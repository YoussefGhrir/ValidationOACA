{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="text-center">
                    <img src="{{ asset('design/images/user-icon.png') }}" class="logo-icon" alt="logo icon"
                         style="width: 100px; height: 100px; border-radius: 30%; margin-bottom: 20px;">
                </div>
                <h2 class="text-center">Ajout d'administrateur</h2>

                <div class="card mt-4">
                    <div class="card-body">

                        {# Display any form errors #}
                        {% if form_errors(registrationForm) is not empty %}
                            <div class="alert alert-danger">
                                <ul class="mb-0">
                                    {{ form_errors(registrationForm) }}
                                </ul>
                            </div>
                        {% endif %}

                        {# Display flash messages if there are any #}
                        {% for message in app.flashes('error') %}
                            <div class="alert alert-danger">
                                {{ message }}
                            </div>
                        {% endfor %}

                        {# Start the form #}
                        {{ form_start(registrationForm) }}

                        {# Form fields #}
                        {{ form_row(registrationForm.firstname, {
                            label: 'Prénom',
                            attr: {'class': 'form-control'}
                        }) }}
                        {{ form_row(registrationForm.lastname, {
                            label: 'Nom de famille',
                            attr: {'class': 'form-control'}
                        }) }}
                        {{ form_row(registrationForm.email, {
                            attr: {'class': 'form-control'}
                        }) }}
                        {{ form_row(registrationForm.plainPassword, {
                            label: 'Mot de passe',
                            attr: {'class': 'form-control'}
                        }) }}
                        <!-- Roles selection field - Custom radio group for role choice -->
                        <div class="form-group mb-3 custom-radio-group">
                            {{ form_row(registrationForm.roles, {
                                'label': 'Choisir le rôle',
                                'attr': {'class': 'form-control form-control-custom'}
                            }) }}
                        </div>

                        <button type="submit" class="btn btn-primary btn-block mt-3">Enregistrer</button>
                        {{ form_end(registrationForm) }}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
